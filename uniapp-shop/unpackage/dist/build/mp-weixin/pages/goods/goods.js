(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods"],{1791:function(e,t,n){},"7f99":function(e,t,n){"use strict";n.r(t);var o=n("b083"),r=n("ed9a");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("83d6");var i,u=n("f0c5"),c=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"732b2424",null,!1,o["a"],i);t["default"]=c.exports},"83d6":function(e,t,n){"use strict";var o=n("1791"),r=n.n(o);r.a},b083:function(e,t,n){"use strict";var o={uParse:function(){return Promise.all([n.e("common/vendor"),n.e("components/u-parse/u-parse")]).then(n.bind(null,"9813"))}},r=function(){var e=this,t=e.$createElement,o=(e._self._c,n("36a2"));e.$mp.data=Object.assign({},{$root:{m0:o}})},a=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}))},d5d4:function(e,t,n){"use strict";(function(e){n("d878");o(n("66fd"));var t=o(n("7f99"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},e2d3:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("4795")),r=n("62d4");function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,r,a,i){try{var u=e[a](i),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(o,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function u(e){i(a,o,r,u,c,"next",e)}function c(e){i(a,o,r,u,c,"throw",e)}u(void 0)}))}}var c=function(){Promise.all([n.e("common/vendor"),n.e("components/u-parse/u-parse")]).then(function(){return resolve(n("9813"))}.bind(null,n)).catch(n.oe)},s={data:function(){return{info:{},gallery:[],id:"",openId:"",brand:[],showpop:!1,number:1,attribute:[],goods_desc:"",issueList:[],recommendList:[],collectFlag:!1,allNumber:0,allPrice:0}},components:{uParse:c},onShareAppMessage:function(){return{title:this.info.name,path:"pages/goods/main?id"+this.info.id,imageUrl:this.gallery[0].img_url}},mounted:function(){this.openId=e.getStorageSync("openId")||"",this.id=this.$root.$mp.query.id,this.goodsDetail()},methods:{goodsDetail:function(){var e=this;return u(o.default.mark((function t(){var n;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,r.get)("/goods/detailaction",{id:e.id,openId:e.openId});case 2:n=t.sent,console.log(n),e.info=n.info,e.gallery=n.gallery,e.attribute=n.attribute,e.goods_desc=n.info.goods_desc,e.issueList=n.issue,e.recommendList=n.recommendList,e.collectFlag=n.collectFlag,e.allNumber=n.allNumber;case 12:case"end":return t.stop()}}),t)})))()},showType:function(){this.showpop=!this.showpop},add:function(){this.number+=1},reduce:function(){if(!(this.number>1))return!1;this.number-=1},collect:function(){var e=this;return u(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.collectFlag=!e.collectFlag,t.next=3,(0,r.post)("/collect/addcollect",{openId:e.openId,goodsId:e.id});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()},toCart:function(){e.switchTab({url:"/pages/cart/cart"})},buy:function(){var t=this;return u(o.default.mark((function n(){var a;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.allPrice=t.info.retail_price,!t.showpop){n.next=11;break}if(0!==t.number){n.next=5;break}return e.showToast({title:"请选择商品数量",duration:2e3,icon:"none",mask:!0,success:function(e){}}),n.abrupt("return",!1);case 5:return n.next=7,(0,r.post)("/order/submitaction",{goodsId:t.id,openId:t.openId,allPrice:t.allPrice});case 7:a=n.sent,a&&e.navigateTo({url:"/pages/order/order"}),n.next=12;break;case 11:t.showpop=!0;case 12:case"end":return n.stop()}}),n)})))()},addCart:function(){}}};t.default=s}).call(this,n("543d")["default"])},ed9a:function(e,t,n){"use strict";n.r(t);var o=n("e2d3"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a}},[["d5d4","common/runtime","common/vendor"]]]);